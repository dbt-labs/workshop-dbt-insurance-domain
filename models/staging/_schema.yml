version: 2

models:
  - name: stg_agencies
  - name: stg_policyholders
    columns:
      - name: policyholder_id
        description: A unique identifier for each policyholder.
        data_tests:
          - unique
          - not_null
      - name: first_name
        description: The first name of the policyholder, capitalized.
        data_tests:
          - not_null
      - name: last_name
        description: The last name of the policyholder, capitalized.
        data_tests:
          - not_null
      - name: date_of_birth
        description: The birth date of the policyholder.
        data_tests:
          - not_null
      - name: gender
        description: The gender of the policyholder, represented in uppercase.
        data_tests:
          - not_null
      - name: email
        description: The email address of the policyholder, in lowercase.
        data_tests:
          - not_null
      - name: phone
        description: The phone number of the policyholder, formatted as (XXX) XXX-XXXX.
        data_tests:
          - not_null
      - name: address
        description: The street address of the policyholder.
        data_tests:
          - not_null
      - name: city
        description: The city of the policyholder's address.
        data_tests:
          - not_null
      - name: state
        description: The state of the policyholder's address, in uppercase.
        data_tests:
          - not_null
      - name: zip
        description: The ZIP code of the policyholder's address.
        data_tests:
          - not_null
    description: This model processes and standardizes policyholder data, ensuring consistent formatting for names, contact information, and addresses. It prepares the data for downstream analysis and reporting by normalizing phone numbers, capitalizing names, and trimming unnecessary spaces.
  - name: stg_products
  - name: stg_policies
  - name: stg_vehicles
  - name: stg_claims
  - name: stg_claim_payouts
